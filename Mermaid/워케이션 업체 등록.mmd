sequenceDiagram
    actor Host as ì‚¬ìš©ìž(í˜¸ìŠ¤íŠ¸)
    participant Frontend as í”„ë¡ íŠ¸ì—”ë“œ
    participant SpringBoot as ë°±ì—”ë“œ(Spring Boot)
    participant DB as ë°ì´í„°ë² ì´ìŠ¤
    participant GovAPI as ì‚¬ì—…ìž ì§„ìœ„í™•ì¸ ì™¸ë¶€ API

    %% 1. í˜¸ìŠ¤íŠ¸ ì‹ ì²­ ë° ì§„ìœ„í™•ì¸
    Host->>Frontend: ì›Œì¼€ì´ì…˜ ë“±ë¡ ì‹œìž‘
    Frontend->>Host: ì˜¤í”¼ìŠ¤/ìˆ™ì†Œ ì„ íƒ, ì‚¬ì—…ìž ì •ë³´ ìž…ë ¥í¼

    Host->>Frontend: ì‚¬ì—…ìžëª…, ìƒí˜¸ëª…, ê°œì—…ì¼, ì‚¬ì—…ìžë“±ë¡ë²ˆí˜¸ ìž…ë ¥
    Frontend->>SpringBoot: ì§„ìœ„í™•ì¸ ìš”ì²­
    SpringBoot->>GovAPI: ì‚¬ì—…ìžë“±ë¡ë²ˆí˜¸ ì§„ìœ„í™•ì¸
    GovAPI-->>SpringBoot: ì§„ìœ„í™•ì¸ ê²°ê³¼
    SpringBoot-->>Frontend: ê²°ê³¼ ë°˜í™˜

    alt ì§„ìœ„í™•ì¸ ì‹¤íŒ¨
        Frontend->>Host: ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ, ë‹¤ìŒ ë‹¨ê³„ ë¶ˆê°€
    else ì§„ìœ„í™•ì¸ ì„±ê³µ
        SpringBoot->>DB: ì›Œì¼€ì´ì…˜ ê¸°ë³¸ ì •ë³´ INSERT
        Frontend->>Host: ë‹¤ìŒ ìž…ë ¥ ë‹¨ê³„ë¡œ ì´ë™ ê°€ëŠ¥
    end

     %% 2~6. ìž…ë ¥ ë‹¨ê³„ ë°˜ë³µ (ìž„ì‹œ ì €ìž¥ ê°€ëŠ¥)
    loop ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš©ìžê°€ ìž…ë ¥
        Host->>Frontend: í•­ëª© ìž…ë ¥ (í…Œë§ˆ, ì‚¬ì§„, ì£¼ì†Œ, ì •ì±… ë“±)
        alt "ìž„ì‹œ ì €ìž¥" ë²„íŠ¼ í´ë¦­
            Frontend->>Host: ì €ìž¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (íŒì—… í‘œì‹œ)
        end

        alt ì‚¬ìš©ìž "ì €ìž¥" í´ë¦­ ì‹œ
            Frontend->>SpringBoot: í˜„ìž¬ ìž…ë ¥ê°’ ì „ë‹¬
            SpringBoot->>DB: ì›Œì¼€ì´ì…˜ íŠœí”Œ UPDATE
            SpringBoot-->>Frontend: ìž„ì‹œ ì €ìž¥ ì™„ë£Œ ì‘ë‹µ
            Frontend->>Host: "ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤" ë©”ì‹œì§€ í‘œì‹œ
        else "ì·¨ì†Œ" ëˆ„ë¦„
            Note over Host, Frontend: DB ë°˜ì˜ ì—†ìŒ (í”„ë¡ íŠ¸ ë‚´ ìƒíƒœ ìœ ì§€)
        end
    end

    %% ðŸ“Œ ë¯¸ë¦¬ë³´ê¸°
    Host->>Frontend: "ë¯¸ë¦¬ë³´ê¸°" í´ë¦­
    Frontend->>Frontend: í˜„ìž¬ ìž…ë ¥ëœ ë¡œì»¬ ìƒíƒœ ê¸°ë°˜ ë¯¸ë¦¬ë³´ê¸° íŽ˜ì´ì§€ ë Œë”ë§
    Note right of Frontend: DB ì €ìž¥ ì—†ì´, í˜„ìž¬ ìž…ë ¥ëœ ê°’ìœ¼ë¡œë§Œ ë Œë”ë§

    Host->>Frontend: ì´ì „ìœ¼ë¡œ ëŒì•„ê°€ê¸° í´ë¦­
    Frontend->>Host: ìž…ë ¥ê°’ ê·¸ëŒ€ë¡œ ìœ ì§€ëœ ë“±ë¡ íŽ˜ì´ì§€ë¡œ ë³µê·€

    %% 7. ìƒíƒœ íŒë‹¨ (ë“±ë¡ ì´í›„)
    Host->>Frontend: "ë“±ë¡" í´ë¦­
    Frontend->>SpringBoot: ëª¨ë“  í•­ëª© ì±„ì›€ ì—¬ë¶€ í™•ì¸ ìš”ì²­
    SpringBoot->>DB: í•„ìˆ˜ í•„ë“œ null ì—¬ë¶€ ê²€ì‚¬
    alt ëª¨ë“  ê°’ ì¡´ìž¬
        SpringBoot->>DB: ì›Œì¼€ì´ì…˜ status = 'Y' ì—…ë°ì´íŠ¸
        SpringBoot-->>Frontend: ê³µê°œ ê°€ëŠ¥ ìƒíƒœ ì‘ë‹µ
    else ì¼ë¶€ í•„ë“œ ëˆ„ë½
        SpringBoot-->>Frontend: ê³µê°œ ë¶ˆê°€ ì‘ë‹µ (status ê·¸ëŒ€ë¡œ)
    end

    alt ë“±ë¡ ì™„ë£Œ ì¡°ê±´
        Frontend->>Host: ë“±ë¡ ì™„ë£Œ ë©”ì‹œì§€ í‘œì‹œ
    else ìž…ë ¥ê°’ ë¯¸ì™„ì„±
        Frontend->>Host: ë¯¸ì™„ì„± ì•Œë¦¼ í‘œì‹œ
    end 
